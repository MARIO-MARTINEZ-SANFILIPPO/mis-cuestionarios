<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuestionario de Repaso: DevOps</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="text/javascript">document.oncontextmenu = function(){return false;}</script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['Source Code Pro', 'monospace'],
                    },
                },
            },
        }
    </script>
    <style>
        .draggable-item { cursor: grab; }
        .draggable-item:active { cursor: grabbing; }
        .drop-zone { border-style: dashed; }
        .drag-over { background-color: #e0f2fe; }
        .dark .drag-over { background-color: #374151; }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200 font-sans transition-colors duration-300">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-4xl">
        
        <!-- Encabezado y control de modo oscuro -->
        <header class="flex justify-between items-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white">Quiz de DevOps</h1>
            <div class="flex items-center">
                <span class="text-sm mr-2">‚òÄÔ∏è</span>
                <label for="dark-mode-toggle" class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" id="dark-mode-toggle" class="sr-only peer">
                    <div class="w-11 h-6 bg-gray-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                </label>
                <span class="text-sm ml-2">üåô</span>
            </div>
        </header>

        <!-- Contenedor del Quiz -->
        <div id="quiz-container" class="bg-white dark:bg-gray-800 p-6 sm:p-8 rounded-2xl shadow-lg">
            <div id="question-container">
                <!-- Las preguntas se cargar√°n aqu√≠ -->
            </div>
            <div class="mt-8 flex justify-between items-center">
                <button id="prev-btn" class="bg-gray-300 hover:bg-gray-400 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-800 dark:text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300 disabled:opacity-50 disabled:cursor-not-allowed">Anterior</button>
                <div id="progress-indicator" class="text-sm text-gray-600 dark:text-gray-400"></div>
                <button id="next-btn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300">Siguiente</button>
                <button id="submit-btn" class="hidden bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg transition-colors duration-300">Finalizar</button>
            </div>
        </div>

    </div>

    <!-- Modal de Resultados -->
    <div id="results-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center p-4">
        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6 sm:p-8">
            <h2 class="text-3xl font-bold text-center mb-4 text-gray-900 dark:text-white">Resultados del Quiz</h2>
            <div id="score-container" class="text-center text-2xl font-semibold mb-6"></div>
            <div id="answers-review-container" class="space-y-4">
                <!-- La revisi√≥n de respuestas se cargar√° aqu√≠ -->
            </div>
            <div class="text-center mt-8">
                <button id="restart-btn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg transition-colors duration-300">Intentar de Nuevo</button>
            </div>
        </div>
    </div>

    <script>
        const quizData = [
            // DevOps Culture & Principles
            { type: 'multiple-choice', question: 'Seg√∫n Donovan Brown, DevOps es la uni√≥n de Personas, Procesos y...', options: ['Plataformas', 'Productos', 'Proyectos', 'Pr√°cticas'], answer: 'Productos' },
            { type: 'multiple-choice', question: '¬øCu√°l es el conflicto central que DevOps busca resolver?', options: ['Desarrollo vs. QA', 'Desarrollo vs. Operaciones', 'Negocio vs. TI', 'Seguridad vs. Desarrollo'], answer: 'Desarrollo vs. Operaciones' },
            { type: 'multiple-choice', question: 'El concepto de "Kaizen" o mejora continua, es un pilar fundamental de:', options: ['ITIL', 'Manifiesto √Ågil', 'Sistema de Producci√≥n Toyota (LEAN)', 'Scrum'], answer: 'Sistema de Producci√≥n Toyota (LEAN)' },
            { type: 'multiple-choice', question: '¬øQu√© significa "CI" en el contexto de DevOps?', options: ['Integraci√≥n Constante', 'Implementaci√≥n Continua', 'Integraci√≥n Continua', 'Infraestructura Continua'], answer: 'Integraci√≥n Continua' },
            { type: 'multiple-choice', question: 'La pr√°ctica de gestionar y aprovisionar infraestructura a trav√©s de c√≥digo se conoce como:', options: ['CD', 'CI', 'IaC', 'VM'], answer: 'IaC' },
            
            // Git
            { type: 'multiple-choice', question: '¬øQu√© comando de Git se utiliza para crear una nueva rama y cambiar a ella inmediatamente?', options: ['git branch <nombre>', 'git checkout -b <nombre>', 'git switch <nombre>', 'git new-branch <nombre>'], answer: 'git checkout -b <nombre>' },
            { type: 'multiple-choice', question: '¬øCu√°l es el prop√≥sito del comando `git pull`?', options: ['Subir cambios al repositorio remoto', 'Descargar cambios del remoto y fusionarlos', 'Ver el estado de los archivos', 'Crear un nuevo commit'], answer: 'Descargar cambios del remoto y fusionarlos' },
            { type: 'multiple-choice', question: 'El √°rea donde Git almacena los cambios que ser√°n incluidos en el pr√≥ximo commit se llama:', options: ['Working Directory', 'Stash', 'Staging Area (Index)', 'Remote Repository'], answer: 'Staging Area (Index)' },
            { type: 'code', question: 'Completa el comando para a√±adir todos los archivos modificados al Staging Area.', code: 'git add ¬ø?', answer: '.' },
            { type: 'code', question: '¬øQu√© comando usar√≠as para fusionar la rama "feature" en tu rama actual "main"?', code: 'git ¬ø?', answer: 'merge feature' },
            
            // Python
            { type: 'multiple-choice', question: 'En Python, ¬øqu√© m√©todo se usa para a√±adir un elemento al final de una lista?', options: ['.insert()', '.add()', '.extend()', '.append()'], answer: '.append()' },
            { type: 'multiple-choice', question: '¬øCu√°l es la principal caracter√≠stica de una tupla en Python?', options: ['Es mutable', 'Es inmutable (no se puede modificar)', 'Solo puede contener n√∫meros', 'No mantiene un orden'], answer: 'Es inmutable (no se puede modificar)' },
            { type: 'multiple-choice', question: 'Para ejecutar un comando del sistema operativo en un script de Python, ¬øqu√© m√≥dulo es com√∫nmente utilizado?', options: ['math', 'requests', 'os o subprocess', 'json'], answer: 'os o subprocess' },
            { type: 'code', question: 'Completa el c√≥digo para imprimir cada clave de un diccionario llamado `mi_dict`.', code: 'for clave in ¬ø?:\n    print(clave)', answer: 'mi_dict' },
            { type: 'code', question: '¬øQu√© palabra clave se utiliza en Python para definir una funci√≥n?', code: '¬ø? mi_funcion():\n    pass', answer: 'def' },

            // Docker
            { type: 'multiple-choice', question: '¬øQu√© es una Imagen de Docker?', options: ['Un contenedor en ejecuci√≥n', 'Un script de instalaci√≥n', 'Una plantilla de solo lectura para crear contenedores', 'Un volumen de datos'], answer: 'Una plantilla de solo lectura para crear contenedores' },
            { type: 'multiple-choice', question: '¬øQu√© comando de Docker lista todos los contenedores, incluyendo los detenidos?', options: ['docker ps', 'docker images', 'docker ps -a', 'docker list all'], answer: 'docker ps -a' },
            { type: 'multiple-choice', question: 'En un `Dockerfile`, ¬øqu√© instrucci√≥n se usa para copiar archivos desde el host al contenedor?', options: ['ADD', 'COPY', 'MOVE', 'INSERT'], answer: 'COPY' },
            { type: 'code', question: 'Completa la instrucci√≥n para exponer el puerto 5000 en un `Dockerfile`.', code: '¬ø? 5000', answer: 'EXPOSE' },
            { type: 'code', question: '¬øQu√© comando usar√≠as para abrir una terminal interactiva dentro de un contenedor en ejecuci√≥n llamado "mi_app"?', code: 'docker exec ¬ø?', answer: '-it mi_app bash' },

            // Matching Concepts
            {
                type: 'matching',
                question: 'Une cada comando de Git con su funci√≥n.',
                pairs: {
                    'git commit': 'Guarda los cambios del Staging Area en el historial local.',
                    'git push': 'Env√≠a los commits locales a un repositorio remoto.',
                    'git status': 'Muestra el estado de los archivos en el directorio de trabajo.',
                    'git merge': 'Combina el historial de diferentes ramas en una sola.'
                }
            },
            {
                type: 'matching',
                question: 'Relaciona cada instrucci√≥n de Dockerfile con su prop√≥sito.',
                pairs: {
                    'FROM': 'Especifica la imagen base para la construcci√≥n.',
                    'RUN': 'Ejecuta un comando y crea una nueva capa en la imagen.',
                    'WORKDIR': 'Establece el directorio de trabajo para las instrucciones siguientes.',
                    'CMD': 'Define el comando por defecto a ejecutar al iniciar el contenedor.'
                }
            },
            
            // More questions
            { type: 'multiple-choice', question: '¬øQu√© es un "anti-patr√≥n" en DevOps?', options: ['Una herramienta de seguridad', 'Una pr√°ctica que va en contra de los principios de DevOps, como los despliegues manuales', 'Un tipo de prueba automatizada', 'Una metodolog√≠a de gesti√≥n de proyectos'], answer: 'Una pr√°ctica que va en contra de los principios de DevOps, como los despliegues manuales' },
            { type: 'multiple-choice', question: 'La charla "10+ Deploys Per Day" de Flickr en 2009 es considerada un hito porque:', options: ['Introdujo el lenguaje Python', 'Demostr√≥ que la velocidad y la estabilidad no son mutuamente excluyentes', 'Cre√≥ el primer contenedor', 'Defini√≥ el Manifiesto √Ågil'], answer: 'Demostr√≥ que la velocidad y la estabilidad no son mutuamente excluyentes' },
            { type: 'multiple-choice', question: '¬øQu√© comando de Git te permite ver el historial de commits de tu repositorio?', options: ['git status', 'git diff', 'git log', 'git show'], answer: 'git log' },
            { type: 'code', question: 'En Python, ¬øc√≥mo se define un diccionario vac√≠o?', code: 'mi_variable = ¬ø?', answer: '{}' },
            { type: 'multiple-choice', question: '¬øPara qu√© sirve el comando `docker rm`?', options: ['Para eliminar una imagen', 'Para reiniciar un contenedor', 'Para eliminar uno o m√°s contenedores detenidos', 'Para renombrar un contenedor'], answer: 'Para eliminar uno o m√°s contenedores detenidos' },
            { type: 'multiple-choice', question: '¬øCu√°l de estas opciones NO es un beneficio directo de adoptar DevOps?', options: ['Mayor calidad y confiabilidad', 'Entrega m√°s r√°pida de proyectos', 'Eliminaci√≥n completa de la necesidad de un equipo de operaciones', 'Mayor colaboraci√≥n y comunicaci√≥n'], answer: 'Eliminaci√≥n completa de la necesidad de un equipo de operaciones' },
            { type: 'code', question: 'Completa el comando de Git para descartar los cambios en un archivo espec√≠fico del directorio de trabajo.', code: 'git checkout -- ¬ø?', answer: 'nombre_del_archivo.txt' },
            { type: 'multiple-choice', question: 'En Python, ¬øqu√© hace el m√©todo `.keys()` en un diccionario?', options: ['Devuelve una lista de todos los valores', 'Devuelve una lista de todas las claves', 'Elimina una clave espec√≠fica', 'A√±ade una nueva clave'], answer: 'Devuelve una lista de todas las claves' },
            { type: 'multiple-choice', question: '¬øQu√© es Docker Hub?', options: ['La interfaz de l√≠nea de comandos de Docker', 'Un registro p√∫blico de im√°genes de Docker', 'El motor que ejecuta los contenedores', 'Un archivo de configuraci√≥n de Docker'], answer: 'Un registro p√∫blico de im√°genes de Docker' },
            { type: 'code', question: 'En un Dockerfile, ¬øqu√© instrucci√≥n usar√≠as para instalar `git` usando el gestor de paquetes `apt-get`?', code: '¬ø? apt-get update && apt-get install -y git', answer: 'RUN' },
            { type: 'multiple-choice', question: '¬øQu√© significa que Git es un sistema de control de versiones "distribuido"?', options: ['Que solo funciona en la nube', 'Que cada desarrollador tiene una copia completa del historial del repositorio', 'Que necesita un servidor central para funcionar', 'Que los archivos se guardan en m√∫ltiples servidores'], answer: 'Que cada desarrollador tiene una copia completa del historial del repositorio' },
            { type: 'multiple-choice', question: '¬øCu√°l es el prop√≥sito de la instrucci√≥n `MAINTAINER` (o `LABEL maintainer`) en un Dockerfile?', options: ['Define el usuario que ejecutar√° la aplicaci√≥n', 'Especifica el autor o mantenedor de la imagen', 'Instala paquetes de mantenimiento', 'Limita los recursos del contenedor'], answer: 'Especifica el autor o mantenedor de la imagen' },
            { type: 'code', question: 'En Python, ¬øc√≥mo se importa la librer√≠a `os`?', code: '¬ø? os', answer: 'import' },
            { type: 'multiple-choice', question: '¬øQu√© comando de Docker te permite ver los logs de un contenedor en ejecuci√≥n?', options: ['docker info', 'docker inspect', 'docker logs', 'docker stats'], answer: 'docker logs' },
            { type: 'multiple-choice', question: 'El concepto "Just in Time" est√° asociado principalmente con:', options: ['Docker', 'Git', 'El Manifiesto √Ågil', 'El Sistema de Producci√≥n Toyota (LEAN)'], answer: 'El Sistema de Producci√≥n Toyota (LEAN)' },
            { type: 'code', question: '¬øQu√© comando de Git usar√≠as para guardar temporalmente tus cambios no comiteados sin crear un commit?', code: 'git ¬ø?', answer: 'stash' },
            { type: 'multiple-choice', question: '¬øQu√© es un "volumen" en Docker?', options: ['El tama√±o de una imagen', 'Un mecanismo para persistir datos generados por y usados en contenedores', 'La cantidad de RAM asignada a un contenedor', 'Una red virtual de Docker'], answer: 'Un mecanismo para persistir datos generados por y usados en contenedores' },
            { type: 'multiple-choice', question: '¬øCu√°l es el objetivo principal de la fase de "Monitoreo y Feedback" en el ciclo de DevOps?', options: ['Desplegar nuevas versiones', 'Escribir c√≥digo', 'Recopilar datos del rendimiento en producci√≥n para informar futuras mejoras', 'Realizar pruebas de seguridad'], answer: 'Recopilar datos del rendimiento en producci√≥n para informar futuras mejoras' },
        ];


        // L√≥gica del Quiz
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        const questionContainer = document.getElementById('question-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const progressIndicator = document.getElementById('progress-indicator');
        const resultsModal = document.getElementById('results-modal');
        const scoreContainer = document.getElementById('score-container');
        const answersReviewContainer = document.getElementById('answers-review-container');
        const restartBtn = document.getElementById('restart-btn');

        let currentQuestionIndex = 0;
        let userAnswers = new Array(quizData.length).fill(null);

        // Dark Mode
        darkModeToggle.addEventListener('change', () => {
            if (darkModeToggle.checked) {
                document.documentElement.classList.add('dark');
                localStorage.setItem('darkMode', 'enabled');
            } else {
                document.documentElement.classList.remove('dark');
                localStorage.setItem('darkMode', 'disabled');
            }
        });

        if (localStorage.getItem('darkMode') === 'enabled') {
            document.documentElement.classList.add('dark');
            darkModeToggle.checked = true;
        }

        function renderQuestion() {
            const questionData = quizData[currentQuestionIndex];
            let html = `<h2 class="text-2xl font-bold mb-6">${currentQuestionIndex + 1}. ${questionData.question}</h2>`;

            if (questionData.type === 'multiple-choice') {
                html += `<div class="space-y-3">`;
                questionData.options.forEach(option => {
                    const isChecked = userAnswers[currentQuestionIndex] === option;
                    html += `
                        <label class="flex items-center p-4 border-2 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200">
                            <input type="radio" name="option" value="${option}" class="form-radio h-5 w-5 text-blue-600" ${isChecked ? 'checked' : ''}>
                            <span class="ml-4 text-lg">${option}</span>
                        </label>
                    `;
                });
                html += `</div>`;
            } else if (questionData.type === 'code') {
                html += `
                    <div class="bg-gray-800 dark:bg-black p-4 rounded-lg my-4">
                        <pre class="font-mono text-white text-sm whitespace-pre-wrap">${questionData.code.trim()}</pre>
                    </div>
                    <input type="text" id="code-answer" class="w-full p-3 bg-gray-100 dark:bg-gray-700 border-2 dark:border-gray-600 rounded-lg font-mono" placeholder="Tu respuesta aqu√≠..." value="${userAnswers[currentQuestionIndex] || ''}">
                `;
            } else if (questionData.type === 'matching') {
                const concepts = Object.keys(questionData.pairs);
                const descriptions = Object.values(questionData.pairs).sort(() => Math.random() - 0.5); // Shuffle descriptions
                
                html += `<div class="grid grid-cols-1 md:grid-cols-2 gap-6">`;
                // Columna de conceptos (arrastrables)
                html += `<div id="concepts-container" class="space-y-3">`;
                concepts.forEach((concept, index) => {
                    html += `<div id="concept-${index}" draggable="true" class="draggable-item p-3 bg-blue-100 dark:bg-blue-900 border border-blue-300 dark:border-blue-700 rounded-lg">${concept}</div>`;
                });
                html += `</div>`;

                // Columna de descripciones (zonas para soltar)
                html += `<div class="space-y-3">`;
                descriptions.forEach((desc, index) => {
                    html += `
                        <div class="flex items-center">
                            <div id="drop-zone-${index}" class="drop-zone w-2/5 h-12 border-2 dark:border-gray-500 rounded-lg flex items-center justify-center p-2 text-sm text-gray-500">Arrastra aqu√≠</div>
                            <div class="w-3/5 pl-3 text-sm">${desc}</div>
                        </div>
                    `;
                });
                html += `</div></div>`;
            }

            questionContainer.innerHTML = html;
            updateButtons();
            
            if (questionData.type === 'multiple-choice') {
                document.querySelectorAll('input[name="option"]').forEach(input => {
                    input.addEventListener('change', (e) => userAnswers[currentQuestionIndex] = e.target.value);
                });
            } else if (questionData.type === 'code') {
                document.getElementById('code-answer').addEventListener('input', (e) => userAnswers[currentQuestionIndex] = e.target.value.trim());
            } else if (questionData.type === 'matching') {
                setupDragAndDrop(questionData);
            }
        }
        
        function setupDragAndDrop(questionData) {
            const draggables = document.querySelectorAll('.draggable-item');
            const dropZones = document.querySelectorAll('.drop-zone');
            
            draggables.forEach(draggable => {
                draggable.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', e.target.id);
                    setTimeout(() => draggable.classList.add('opacity-50'), 0);
                });
                draggable.addEventListener('dragend', (e) => {
                    e.target.classList.remove('opacity-50');
                });
            });

            dropZones.forEach(zone => {
                zone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    zone.classList.add('drag-over');
                });
                zone.addEventListener('dragleave', (e) => {
                    zone.classList.remove('drag-over');
                });
                zone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    zone.classList.remove('drag-over');
                    const draggedId = e.dataTransfer.getData('text/plain');
                    const draggedElement = document.getElementById(draggedId);
                    
                    if (zone.children.length > 0) {
                        const existingChild = zone.children[0];
                        document.getElementById('concepts-container').appendChild(existingChild);
                    }
                    zone.innerHTML = '';
                    zone.appendChild(draggedElement);
                    saveMatchingAnswers();
                });
            });
        }
        
        function saveMatchingAnswers() {
            const dropZones = document.querySelectorAll('.drop-zone');
            const answers = {};
            dropZones.forEach((zone) => {
                const conceptEl = zone.querySelector('.draggable-item');
                if (conceptEl) {
                    const concept = conceptEl.textContent;
                    const description = zone.nextElementSibling.textContent;
                    answers[concept] = description;
                }
            });
            userAnswers[currentQuestionIndex] = answers;
        }

        function updateButtons() {
            prevBtn.disabled = currentQuestionIndex === 0;
            if (currentQuestionIndex === quizData.length - 1) {
                nextBtn.classList.add('hidden');
                submitBtn.classList.remove('hidden');
            } else {
                nextBtn.classList.remove('hidden');
                submitBtn.classList.add('hidden');
            }
            progressIndicator.textContent = `Pregunta ${currentQuestionIndex + 1} de ${quizData.length}`;
        }

        function showResults() {
            let score = 0;
            answersReviewContainer.innerHTML = '';

            quizData.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                let isCorrect = false;
                let correctAnswerHtml = '';
                let userAnswerHtml = '';
                
                if (question.type === 'multiple-choice' || question.type === 'code') {
                    const normalizedUserAnswer = typeof userAnswer === 'string' ? userAnswer.trim().toLowerCase().replace(/\s+/g, ' ') : '';
                    const normalizedCorrectAnswer = question.answer.trim().toLowerCase().replace(/\s+/g, ' ');
                    isCorrect = normalizedUserAnswer === normalizedCorrectAnswer;
                    correctAnswerHtml = `<code>${question.answer}</code>`;
                    userAnswerHtml = userAnswer ? `<code>${userAnswer}</code>` : 'No respondida';
                } else if (question.type === 'matching') {
                    let correctMatches = 0;
                    const totalMatches = Object.keys(question.pairs).length;
                    if(userAnswer && Object.keys(userAnswer).length === totalMatches) {
                        for (const concept in userAnswer) {
                            if (question.pairs[concept] === userAnswer[concept]) {
                                correctMatches++;
                            }
                        }
                    }
                    isCorrect = correctMatches === totalMatches;
                    correctAnswerHtml = `<ul class="list-disc list-inside">${Object.entries(question.pairs).map(([c, d]) => `<li><b>${c}:</b> ${d}</li>`).join('')}</ul>`;
                    userAnswerHtml = userAnswer ? `<ul class="list-disc list-inside">${Object.entries(userAnswer).map(([c, d]) => `<li><b>${c}:</b> ${d}</li>`).join('')}</ul>` : 'No respondida';
                }

                if (isCorrect) score++;

                const reviewHtml = `
                    <div class="p-4 rounded-lg ${isCorrect ? 'bg-green-100 dark:bg-green-800/30' : 'bg-red-100 dark:bg-red-800/30'}">
                        <p class="font-bold">${index + 1}. ${question.question}</p>
                        <div class="mt-2 text-sm">Tu respuesta: <div class="p-2 rounded mt-1 ${isCorrect ? 'text-green-800 dark:text-green-300' : 'text-red-800 dark:text-red-300'}">${userAnswerHtml}</div></div>
                        ${!isCorrect ? `<div class="mt-1 text-sm">Respuesta correcta: <div class="p-2 rounded mt-1 text-green-800 dark:text-green-300">${correctAnswerHtml}</div></div>` : ''}
                    </div>
                `;
                answersReviewContainer.innerHTML += reviewHtml;
            });

            scoreContainer.innerHTML = `Tu puntaje: <span class="text-blue-500 dark:text-blue-400">${score}</span> de <span class="text-blue-500 dark:text-blue-400">${quizData.length}</span>`;
            resultsModal.classList.remove('hidden');
            resultsModal.classList.add('flex');
        }

        prevBtn.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestionIndex < quizData.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            }
        });
        
        submitBtn.addEventListener('click', showResults);

        restartBtn.addEventListener('click', () => {
            currentQuestionIndex = 0;
            userAnswers.fill(null);
            resultsModal.classList.add('hidden');
            resultsModal.classList.remove('flex');
            renderQuestion();
        });

        renderQuestion();
    </script>

</body>
</html>
